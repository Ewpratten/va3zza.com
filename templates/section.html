{% extends "base.html" %}
{% block title %}
{{section.title}}
{% endblock title %}

{% block head %}
{{ super() }}
<meta property="og:title" content="{{section.title}} - Evan Pratten" />
{% if section.description %}
<meta property="og:description" content="{{section.description}}" />
<meta property="description" content="{{section.description}}" />
{% else %}
<meta property="og:description" content="{{config.description}}" />
<meta property="description" content="{{config.description}}" />
{% endif %}

{# Handle listing blog posts nicely in search #}
{% if section.extra.inject_blog_posts %}
<script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"ItemList",
      "itemListElement":[
        {% for page in section.pages %}
        {% if not page.extra.hidden %}
        {
            "@type":"ListItem",
            "position": "{{loop.index}}",
            "item": {
                "@type": "Article",
                "headline": "{{page.title}}",
                "url":"https://va3zza.com{{page.path | safe}}",
                "author": [{
                    "@type": "Person",
                    "name": "Evan Pratten",
                    "url": "https://va3zza.com"
                  }]
            }
        } {% if not loop.last %},{% endif %}
        {% endif %}
        {% endfor %}
        
      ]
    }
</script>
{% endif %}
{% endblock head %}

{% block content %}
{{section.content | safe}}

{# Blog posts #}
{% if section.extra.inject_blog_posts %}
<div>
  {% for page in paginator.pages %}
  {% if not page.extra.hidden %}
  <a href="{{page.path}}" class="blog-post-listing-item">
    <div>
      <h4 {%if page.draft%}style="color:red;" {%endif%}>{{page.date | date(format="%b %d, %Y")}}</h4>
      <h1>{{page.title}}</h1>
      {% if page.extra.excerpt %}
      <p>{{page.extra.excerpt}}</p>
      {% endif %}
    </div>
  </a>
  <br>
  {% endif %}
  {% endfor %}
</div>

<div style="text-align: center;">
  {% if paginator.previous %}
  <a class="pn-previous" href="{{ paginator.previous }}">PREV</a>
  {% endif %}
  {% if paginator.previous and paginator.next %}
    <span> â€¢ </span>
  {% endif %}
  {% if paginator.next %}
  <a class="pn-next" href="{{ paginator.next }}">NEXT</a>
  {% endif %}
</div>

{% endif %}

{# RFCs #}
{% if section.extra.inject_rfcs %}
<ul>
  {% for page in section.pages %}
  {% if not page.extra.hidden %}
  <li class="blog-post-li"><a href="{{page.path}}">{{page.title}}</a> <span style="color:gray;">({{page.date}})</span>
  </li>
  {% endif %}
  {% endfor %}
</ul>
{% endif %}
{% endblock content %}